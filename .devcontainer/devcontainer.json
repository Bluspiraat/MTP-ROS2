{
	"name": "Ubuntu 22:04 + ROS 2 Humble + CUDA Dev Container",
	// "image": "vsc-mtp-ros2-9d4577fd39f605783550b4a81c20c48b4cad6f3f103eca6ae7969fd12f4f936d",
    "build": {
        "dockerfile": "../Dockerfile",
		"context": ".."
    },
	"runArgs": [
		"--device=/dev/video0:/dev/video0", // Maps the host's video device to the container
		"--gpus", "all", // Grants the container access to all available GPUs on the host machine
		"--ipc=host" // Shares the host's IPC namespace with the container
	],
	"workspaceMount": "source=${localWorkspaceFolder},target=/ros2_ws,type=bind",
	"workspaceFolder": "/ros2_ws",
	"containerEnv": {
    	"DISPLAY": "${localEnv:DISPLAY}"
    },
	"mounts": [
		{
			"source": "/tmp/.X11-unix",
			"target": "/tmp/.X11-unix",
			"type": "bind"
		},
		{
			"source": "${localEnv:XAUTHORITY:-$HOME/.Xauthority}",
			"target": "/root/.Xauthority",
			"type": "bind"
		}
    ],
    "customizations": {
        "vscode": {
            "settings": {},
            "extensions": [
                "mhutchie.git-graph",
              ]
        }
	},
	"features": {
		"ghcr.io/devcontainers/features/common-utils:2": {},
		"ghcr.io/devcontainers/features/git:1": {},
		"ghcr.io/wxw-matt/devcontainer-features/command_runner:0": {}
	}
  }
